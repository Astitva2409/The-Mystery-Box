<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Mystery Box</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <h2><center>THE MYSTERY BOX- Registration Form</center></h2>

    <div>
        <form method="POST" name="google-sheet">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="Your name.." required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Your email.." required>

            <label for="number">Mobile Number</label>
            <input type="number" id="number" name="number" placeholder="Your WhatsApp Number.." required>

            <label for="branch">Branch</label>
            <select id="branch" name="branch" required>
                <option value="">-- Select a Branch name --</option>
                <option value="CS">Computer Science</option>
                <option value="IT">Information Technology</option>
                <option value="EC">Electronics and Communication Engineering</option>
                <option value="EE">Electrical Engineering</option>
                <option value="ME">Mechanical Engineering</option>
                <option value="CE">Civil Engineering</option>
                <option value="AI&ML">AI&ML</option>
                <option value="BBA/BCA">BBA/BCA</option>
            </select>

            <label for="year">Year</label>
            <select name="year" id="year" required>
                <option value="">-- Select your year --</option>
                <option value="1">1st</option>
                <option value="2">2nd</option>
                <option value="3">3rd</option>
                <option value="4">4th</option>
            </select>

            <label for="payment">Mode of Payment</label>
            <select id="payment" name="payment" required>
                <option value="">-- Select a Payment Mode --</option>
                <option value="online">Online Payment</option>
                <option value="cash">Cash Payment</option>
            </select>

            <label for="pay">Pay â‚¹30/-</label>
            <a href="https://p.paytm.me/xCTH/vgzqodfc">Click here to pay</a>

            <label for="uploadfile">Payment Reference Number <br> <span>(if paid online)</span> </label>
            <input type="number" id="uploadfile" name="uploadfile">

            <input type="submit" name="submit" value="Submit">
        </form>
    </div>

    <script>
        const scriptUrl = 'https://script.google.com/macros/s/AKfycbxf3__9FeNmZJKkO41PymALHuxLuUqCOT9wVpJXA9pb5P88kuUc_mY-J4sSpqSiebF8/exec'
        const form = document.forms['google-sheet']

        form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptUrl, { method: 'POST', body: new FormData(form) })
            .then(Response => alert("Your response has been recorded."))
            .catch(error => console.error('Error!', error.message))
        })
    </script>

</body>

</html>